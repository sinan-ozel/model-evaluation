{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "evaluate",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "IFS='/' read -r PROJECT_PATH EVALUATION_PATH <<< '${input:evaluationChoice}' && PROJECT_PATH=$PROJECT_PATH EVALUATION_PATH=$EVALUATION_PATH docker compose up --build --abort-on-container-exit --exit-code-from evaluator"
      ],
      "problemMatcher": [],
      "group": {
        "kind": "test",
        "isDefault": true
      }
    },
    {
      "label": "test_functions",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "${workspaceFolder}/test_model_evaluation/docker-compose.yaml",
        "--project-directory",
        "${workspaceFolder}/test_model_evaluation",
        "up",
        "--build",
        "--abort-on-container-exit",
        "--exit-code-from",
        "tester"
      ],
      "problemMatcher": [],
      "group": {
        "kind": "test"
      }
    }
  ],
  "inputs": [
    {
      "id": "evaluationChoice",
      "type": "pickString",
      "description": "Select evaluation to run",
      "options": [
        "nutrition_information_extraction/evaluation/calorie_extraction.yaml"
      ],
      "default": "nutrition_information_extraction/evaluation/calorie_extraction.yaml"
    }
  ]
}


